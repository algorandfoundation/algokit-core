/*
 * Algod REST API.
 *
 * API endpoint for algod operations.
 *
 * The version of the OpenAPI document: 0.0.1
 * Contact: contact@algorand.com
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

/// PendingTransactionResponse : Details about a pending transaction. If the transaction was recently confirmed, includes confirmation details like the round and reward details.
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
#[cfg_attr(feature = "ffi_wasm", derive(tsify_next::Tsify))]
#[cfg_attr(feature = "ffi_wasm", tsify(into_wasm_abi, from_wasm_abi))]
#[cfg_attr(feature = "ffi_uniffi", derive(uniffi::Record))]
pub struct PendingTransactionResponse {
    /// The asset index if the transaction was found and it created an asset.
    #[serde(rename = "asset-index", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub asset_index: Option<i32>,
    /// The application index if the transaction was found and it created an application.
    #[serde(rename = "application-index", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub application_index: Option<i32>,
    /// Rewards in microalgos applied to the close remainder to account.
    #[serde(rename = "close-rewards", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub close_rewards: Option<i32>,
    /// Closing amount for the transaction.
    #[serde(rename = "closing-amount", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub closing_amount: Option<i32>,
    /// The number of the asset's unit that were transferred to the close-to address.
    #[serde(rename = "asset-closing-amount", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub asset_closing_amount: Option<i32>,
    /// The round where this transaction was confirmed, if present.
    #[serde(rename = "confirmed-round", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub confirmed_round: Option<i32>,
    /// Indicates that the transaction was kicked out of this node's transaction pool (and specifies why that happened).  An empty string indicates the transaction wasn't kicked out of this node's txpool due to an error. 
    #[serde(rename = "pool-error")]
    
    
    
    pub pool_error: String,
    /// Rewards in microalgos applied to the receiver account.
    #[serde(rename = "receiver-rewards", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub receiver_rewards: Option<i32>,
    /// Rewards in microalgos applied to the sender account.
    #[serde(rename = "sender-rewards", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub sender_rewards: Option<i32>,
    /// Local state key/value changes for the application being executed by this transaction.
    #[serde(rename = "local-state-delta", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub local_state_delta: Option<Vec<models::AccountStateDelta>>,
    /// Application state delta.
    #[serde(rename = "global-state-delta", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub global_state_delta: Option<Vec<models::EvalDeltaKeyValue>>,
    /// Logs for the application being executed by this transaction.
    #[serde(rename = "logs", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub logs: Option<Vec<String>>,
    /// Inner transactions produced by application execution.
    #[serde(rename = "inner-txns", skip_serializing_if = "Option::is_none")]
    
    #[cfg_attr(feature = "ffi_wasm", tsify(optional))]
    #[cfg_attr(feature = "ffi_uniffi", uniffi(default = None))]
    pub inner_txns: Option<Vec<models::PendingTransactionResponse>>,
    /// The raw signed transaction.
    #[serde(rename = "txn")]
    
    
    
    pub txn: String,
}

impl PendingTransactionResponse {
    /// Details about a pending transaction. If the transaction was recently confirmed, includes confirmation details like the round and reward details.
    pub fn new(pool_error: String, txn: String) -> PendingTransactionResponse {
        PendingTransactionResponse {
            asset_index: None,
            application_index: None,
            close_rewards: None,
            closing_amount: None,
            asset_closing_amount: None,
            confirmed_round: None,
            pool_error,
            receiver_rewards: None,
            sender_rewards: None,
            local_state_delta: None,
            global_state_delta: None,
            logs: None,
            inner_txns: None,
            txn,
        }
    }
}

impl crate::JsonSerializable for PendingTransactionResponse {}

impl crate::MsgpackDecodable for PendingTransactionResponse {}

